{"ast":null,"code":"import { db } from \"./firebase\";\nimport { collection, doc, getDocs, getDoc, addDoc, setDoc, updateDoc, deleteDoc, deleteField, onSnapshot } from \"firebase/firestore\";\nexport const getDocRef = (col, id) => doc(db, col, id);\nexport const getCollectionRef = col => collection(db, col); // add data\n\nexport const addData = async (col, data) => {\n  const collectionRef = getCollectionRef(col);\n  const docRef = await addDoc(collectionRef, data);\n  return docRef;\n}; //update data\n\nexport const updateData = async (col, id, data) => {\n  const docRef = getDocRef(col, id);\n  await updateDoc(docRef, data);\n}; //get data\n\nexport const getData = async col => {\n  const collectionRef = getCollectionRef(col);\n  const snapData = await getDocs(collectionRef);\n  const data = snapData.map(doc => doc.data());\n  return data;\n}; //get Data by ID\n\nexport const getDataById = async (col, id) => {\n  const docRef = getDocRef(col, id);\n  const snapData = await getDoc(docRef);\n  const data = snapData.data();\n  return data;\n}; //delete data\n\nexport const deleteData = async (col, id) => {\n  const docRef = getDocRef(col, id);\n  await deleteDoc(docRef);\n}; //delete field\n\nexport const deleteNumber = async (col, id, field) => {\n  const docRef = getDocRef(col, id);\n  await updateDoc(docRef, {\n    subindex1: deleteField(field)\n  });\n}; /////////////////////////////////////////////////////////////////////////////////////////////////////\n//set Data\n// export const setData = async (col, data) => {\n//   const collectionRef = getCollectionRef(col);\n//   const docRef = await addDoc(collectionRef, data);\n//   return docRef;\n// };\n//set Document\n\nexport const setDocument = async (col, id, data) => {\n  const docRef = getDocRef(col, id);\n  const docSnapshot = await setDoc(docRef, data);\n  return docSnapshot;\n}; //subscribe to data\n\nexport const getSubscription = async (col, callback) => {\n  const collectionRef = getCollectionRef(col); //const unsubscribe = onSnapshot(collectionRef, callback);\n\n  const unsubscribe = await onSnapshot(collectionRef, callback);\n  return unsubscribe;\n};","map":{"version":3,"sources":["C:/Users/alexa/Desktop/rodan-app/src/Services/CRUD.jsx"],"names":["db","collection","doc","getDocs","getDoc","addDoc","setDoc","updateDoc","deleteDoc","deleteField","onSnapshot","getDocRef","col","id","getCollectionRef","addData","data","collectionRef","docRef","updateData","getData","snapData","map","getDataById","deleteData","deleteNumber","field","subindex1","setDocument","docSnapshot","getSubscription","callback","unsubscribe"],"mappings":"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","sourcesContent":["import { db } from \"./firebase\";\nimport {\n  collection,\n  doc,\n  getDocs,\n  getDoc,\n  addDoc,\n  setDoc,\n  updateDoc,\n  deleteDoc,\n  deleteField,\n  onSnapshot,\n} from \"firebase/firestore\";\n\nexport const getDocRef = (col, id) => doc(db, col, id);\nexport const getCollectionRef = (col) => (collection(db, col));\n\n\n// add data\nexport const addData = async (col, data) => {\n  const collectionRef = getCollectionRef(col);\n  const docRef = await addDoc(collectionRef, data);\n  return docRef;\n}\n\n//update data\nexport const updateData = async (col, id, data) => {\n  const docRef = getDocRef(col, id);\n  await updateDoc(docRef, data);\n};\n\n//get data\nexport const getData = async (col) => {\n  const collectionRef = getCollectionRef(col);\n  const snapData = await getDocs(collectionRef);\n  const data = snapData.map((doc) => doc.data());\n  return data;\n};\n\n//get Data by ID\nexport const getDataById = async (col, id) => {\n  const docRef = getDocRef(col, id);\n  const snapData = await getDoc(docRef);\n  const data = snapData.data();\n  return data;\n};\n\n//delete data\nexport const deleteData = async (col, id) => {\n  const docRef = getDocRef(col, id);\n  await deleteDoc(docRef);\n};\n\n//delete field\nexport const deleteNumber =async (col, id, field) => {\n  const docRef = getDocRef(col, id);\n  await updateDoc(docRef, { subindex1:deleteField(field)})\n}\n\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n//set Data\n// export const setData = async (col, data) => {\n//   const collectionRef = getCollectionRef(col);\n//   const docRef = await addDoc(collectionRef, data);\n//   return docRef;\n// };\n\n//set Document\nexport const setDocument = async (col, id, data) => {\n  const docRef = getDocRef(col, id);\n  const docSnapshot = await setDoc(docRef, data);\n  return docSnapshot;\n};\n\n//subscribe to data\nexport const getSubscription = async (col, callback) => {\n  const collectionRef = getCollectionRef(col);\n  //const unsubscribe = onSnapshot(collectionRef, callback);\n  const unsubscribe = await onSnapshot(collectionRef, callback);\n  return unsubscribe;\n};\n"]},"metadata":{},"sourceType":"module"}