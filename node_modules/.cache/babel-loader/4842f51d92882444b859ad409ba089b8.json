{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\alexa\\\\Desktop\\\\rodan-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\alexa\\\\Desktop\\\\rodan-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{db}from\"./firebase\";import{collection,doc,getDocs,getDoc,addDoc,setDoc,updateDoc,deleteDoc,onSnapshot}from\"firebase/firestore\";export var getDocRef=function getDocRef(col,id){return doc(db,col,id);};export var getCollectionRef=function getCollectionRef(col){return collection(db,col);};// add data\nexport var addData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(col,data){var collectionRef,docRef;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:collectionRef=getCollectionRef(col);_context.next=3;return addDoc(collectionRef,data);case 3:docRef=_context.sent;return _context.abrupt(\"return\",docRef);case 5:case\"end\":return _context.stop();}}},_callee);}));return function addData(_x,_x2){return _ref.apply(this,arguments);};}();//update data\nexport var updateData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(col,id,data){var docRef;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:docRef=getDocRef(col,id);_context2.next=3;return updateDoc(docRef,data);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function updateData(_x3,_x4,_x5){return _ref2.apply(this,arguments);};}();//get data\nexport var getData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(col){var collectionRef,snapData,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:collectionRef=getCollectionRef(col);_context3.next=3;return getDocs(collectionRef);case 3:snapData=_context3.sent;data=snapData.map(function(doc){return doc.data();});return _context3.abrupt(\"return\",data);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function getData(_x6){return _ref3.apply(this,arguments);};}();//get Data by ID\nexport var getDataById=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(col,id){var docRef,snapData,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:docRef=getDocRef(col,id);_context4.next=3;return getDoc(docRef);case 3:snapData=_context4.sent;data=snapData.data();return _context4.abrupt(\"return\",data);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function getDataById(_x7,_x8){return _ref4.apply(this,arguments);};}();//delete data\nexport var deleteData=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(col,id){var docRef;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:docRef=getDocRef(col,id);_context5.next=3;return deleteDoc(docRef);case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function deleteData(_x9,_x10){return _ref5.apply(this,arguments);};}();//delete field\n// export const deleteNumber = async (col, id) => {\n//   const docRef = getDocRef(col, id);\n//   await updateDoc(docRef, {subindex1: deleteField()})\n// }\n/////////////////////////////////////////////////////////////////////////////////////////////////////\n//set Document\nexport var setDocument=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(col,id,data){var docRef,docSnapshot;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:docRef=getDocRef(col,id);_context6.next=3;return setDoc(docRef,data);case 3:docSnapshot=_context6.sent;return _context6.abrupt(\"return\",docSnapshot);case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function setDocument(_x11,_x12,_x13){return _ref6.apply(this,arguments);};}();//subscribe to data\nexport var getSubscription=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(col,callback){var collectionRef,unsubscribe;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:collectionRef=getCollectionRef(col);//const unsubscribe = onSnapshot(collectionRef, callback);\n_context7.next=3;return onSnapshot(collectionRef,callback);case 3:unsubscribe=_context7.sent;return _context7.abrupt(\"return\",unsubscribe);case 5:case\"end\":return _context7.stop();}}},_callee7);}));return function getSubscription(_x14,_x15){return _ref7.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Users/alexa/Desktop/rodan-app/src/Services/CRUD.jsx"],"names":["db","collection","doc","getDocs","getDoc","addDoc","setDoc","updateDoc","deleteDoc","onSnapshot","getDocRef","col","id","getCollectionRef","addData","data","collectionRef","docRef","updateData","getData","snapData","map","getDataById","deleteData","setDocument","docSnapshot","getSubscription","callback","unsubscribe"],"mappings":"kQAAA,OAASA,EAAT,KAAmB,YAAnB,CACA,OACEC,UADF,CAEEC,GAFF,CAGEC,OAHF,CAIEC,MAJF,CAKEC,MALF,CAMEC,MANF,CAOEC,SAPF,CAQEC,SARF,CASEC,UATF,KAUO,oBAVP,CAYA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,GAAD,CAAMC,EAAN,QAAaV,CAAAA,GAAG,CAACF,EAAD,CAAKW,GAAL,CAAUC,EAAV,CAAhB,EAAlB,CACP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACF,GAAD,QAAUV,CAAAA,UAAU,CAACD,EAAD,CAAKW,GAAL,CAApB,EAAzB,CAGP;AACA,MAAO,IAAMG,CAAAA,OAAO,0FAAG,iBAAOH,GAAP,CAAYI,IAAZ,2IACfC,aADe,CACCH,gBAAgB,CAACF,GAAD,CADjB,uBAEAN,CAAAA,MAAM,CAACW,aAAD,CAAgBD,IAAhB,CAFN,QAEfE,MAFe,+CAGdA,MAHc,wDAAH,kBAAPH,CAAAA,OAAO,gDAAb,CAMP;AACA,MAAO,IAAMI,CAAAA,UAAU,2FAAG,kBAAOP,GAAP,CAAYC,EAAZ,CAAgBG,IAAhB,iIAClBE,MADkB,CACTP,SAAS,CAACC,GAAD,CAAMC,EAAN,CADA,wBAElBL,CAAAA,SAAS,CAACU,MAAD,CAASF,IAAT,CAFS,yDAAH,kBAAVG,CAAAA,UAAU,sDAAhB,CAKP;AACA,MAAO,IAAMC,CAAAA,OAAO,2FAAG,kBAAOR,GAAP,sJACfK,aADe,CACCH,gBAAgB,CAACF,GAAD,CADjB,wBAEER,CAAAA,OAAO,CAACa,aAAD,CAFT,QAEfI,QAFe,gBAGfL,IAHe,CAGRK,QAAQ,CAACC,GAAT,CAAa,SAACnB,GAAD,QAASA,CAAAA,GAAG,CAACa,IAAJ,EAAT,EAAb,CAHQ,kCAIdA,IAJc,0DAAH,kBAAPI,CAAAA,OAAO,8CAAb,CAOP;AACA,MAAO,IAAMG,CAAAA,WAAW,2FAAG,kBAAOX,GAAP,CAAYC,EAAZ,+IACnBK,MADmB,CACVP,SAAS,CAACC,GAAD,CAAMC,EAAN,CADC,wBAEFR,CAAAA,MAAM,CAACa,MAAD,CAFJ,QAEnBG,QAFmB,gBAGnBL,IAHmB,CAGZK,QAAQ,CAACL,IAAT,EAHY,kCAIlBA,IAJkB,0DAAH,kBAAXO,CAAAA,WAAW,kDAAjB,CAOP;AACA,MAAO,IAAMC,CAAAA,UAAU,2FAAG,kBAAOZ,GAAP,CAAYC,EAAZ,iIAClBK,MADkB,CACTP,SAAS,CAACC,GAAD,CAAMC,EAAN,CADA,wBAElBJ,CAAAA,SAAS,CAACS,MAAD,CAFS,yDAAH,kBAAVM,CAAAA,UAAU,mDAAhB,CAKP;AACA;AACA;AACA;AACA;AAGA;AAKA;AACA,MAAO,IAAMC,CAAAA,WAAW,2FAAG,kBAAOb,GAAP,CAAYC,EAAZ,CAAgBG,IAAhB,6IACnBE,MADmB,CACVP,SAAS,CAACC,GAAD,CAAMC,EAAN,CADC,wBAECN,CAAAA,MAAM,CAACW,MAAD,CAASF,IAAT,CAFP,QAEnBU,WAFmB,iDAGlBA,WAHkB,0DAAH,kBAAXD,CAAAA,WAAW,yDAAjB,CAMP;AACA,MAAO,IAAME,CAAAA,eAAe,2FAAG,kBAAOf,GAAP,CAAYgB,QAAZ,oJACvBX,aADuB,CACPH,gBAAgB,CAACF,GAAD,CADT,CAE7B;AAF6B,uBAGHF,CAAAA,UAAU,CAACO,aAAD,CAAgBW,QAAhB,CAHP,QAGvBC,WAHuB,iDAItBA,WAJsB,0DAAH,kBAAfF,CAAAA,eAAe,oDAArB","sourcesContent":["import { db } from \"./firebase\";\nimport {\n  collection,\n  doc,\n  getDocs,\n  getDoc,\n  addDoc,\n  setDoc,\n  updateDoc,\n  deleteDoc,\n  onSnapshot,\n} from \"firebase/firestore\";\n\nexport const getDocRef = (col, id) => doc(db, col, id);\nexport const getCollectionRef = (col) => (collection(db, col));\n\n\n// add data\nexport const addData = async (col, data) => {\n  const collectionRef = getCollectionRef(col);\n  const docRef = await addDoc(collectionRef, data);\n  return docRef;\n}\n\n//update data\nexport const updateData = async (col, id, data) => {\n  const docRef = getDocRef(col, id);\n  await updateDoc(docRef, data);\n};\n\n//get data\nexport const getData = async (col) => {\n  const collectionRef = getCollectionRef(col);\n  const snapData = await getDocs(collectionRef);\n  const data = snapData.map((doc) => doc.data());\n  return data;\n};\n\n//get Data by ID\nexport const getDataById = async (col, id) => {\n  const docRef = getDocRef(col, id);\n  const snapData = await getDoc(docRef);\n  const data = snapData.data();\n  return data;\n};\n\n//delete data\nexport const deleteData = async (col, id) => {\n  const docRef = getDocRef(col, id);\n  await deleteDoc(docRef);\n};\n\n//delete field\n// export const deleteNumber = async (col, id) => {\n//   const docRef = getDocRef(col, id);\n//   await updateDoc(docRef, {subindex1: deleteField()})\n// }\n\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n\n\n//set Document\nexport const setDocument = async (col, id, data) => {\n  const docRef = getDocRef(col, id);\n  const docSnapshot = await setDoc(docRef, data);\n  return docSnapshot;\n};\n\n//subscribe to data\nexport const getSubscription = async (col, callback) => {\n  const collectionRef = getCollectionRef(col);\n  //const unsubscribe = onSnapshot(collectionRef, callback);\n  const unsubscribe = await onSnapshot(collectionRef, callback);\n  return unsubscribe;\n};\n"]},"metadata":{},"sourceType":"module"}