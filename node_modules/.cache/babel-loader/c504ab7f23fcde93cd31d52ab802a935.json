{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\alexa\\\\Desktop\\\\rodan-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\alexa\\\\Desktop\\\\rodan-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _asyncToGenerator from\"C:\\\\Users\\\\alexa\\\\Desktop\\\\rodan-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\alexa\\\\Desktop\\\\rodan-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\alexa\\\\Desktop\\\\rodan-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useState,useEffect}from\"react\";import{onSnapshot}from\"firebase/firestore\";import{addData,getCollectionRef,getDataById,updateData}from\"../../Services/CRUD\";import{useNavigate}from\"react-router-dom\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TicketPage=function TicketPage(_ref){var editMode=_ref.editMode;var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),propertyList=_useState2[0],setPropertyList=_useState2[1];var _useState3=useState({timestamp:new Date().toISOString()}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var _useParams=useParams(),id=_useParams.id;var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(editMode){_context.next=5;break;}_context.next=4;return addData(\"tickets\",{property:formData.property,subindex:formData.subindex,subindex1:formData.subindex1,subindex2:formData.subindex2,subindex3:formData.subindex3,subindex4:formData.subindex4,amount:formData.amount,type:formData.type,concept:formData.concept,timestamp:formData.timestamp,date:formData.date});case 4:navigate('/');case 5:if(!editMode){_context.next=9;break;}_context.next=8;return updateData(\"tickets\",id,{property:formData.property,subindex:formData.subindex,subindex1:formData.subindex1,subindex2:formData.subindex2,subindex3:formData.subindex3,subindex4:formData.subindex4,amount:formData.amount,type:formData.type,concept:formData.concept,timestamp:formData.timestamp,date:formData.date});case 8:navigate('/');case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var fetchData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getDataById(\"tickets\",id);case 2:response=_context2.sent;setFormData({property:response.property,subindex:response.subindex,subindex1:response.subindex1,subindex2:response.subindex2,subindex3:response.subindex3,subindex4:response.subindex4,amount:response.amount,type:response.type,concept:response.concept,timestamp:response.timestamp,date:response.date});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchData(){return _ref3.apply(this,arguments);};}();useEffect(function(){if(editMode)fetchData();},[]);useEffect(function(){var unSubscribe=onSnapshot(getCollectionRef(\"properties\"),function(data){setPropertyList(data.docs.map(function(doc){return _objectSpread(_objectSpread({},doc.data()),{},{id:doc.id});}));});return function(){unSubscribe();};},[]);var handleChange=function handleChange(e){var value=e.target.value;var name=e.target.name;setFormData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-black text-center\",children:editMode?'Actualiza tu movimiento':'Crear un movimiento'}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"bg-white shadow-md rounded px-8 pt-6 pb-8 m-4 w-3/4\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"flex flex-col flex-wrap w-3/4 m-10\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"property\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Nombre de la Propiedad\"}),/*#__PURE__*/_jsx(\"select\",{name:\"property\",value:formData.property,onChange:handleChange,required:true,defaultValue:'disable-value',className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{disabled:true,value:'disable-value',children:\" -- Selecciona una opcion -- \"}),propertyList===null||propertyList===void 0?void 0:propertyList.map(function(uniqueBuilding,buildingIndex){return/*#__PURE__*/_jsx(\"option\",{children:uniqueBuilding.property},buildingIndex);})]})}),formData.property?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subindex\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Numero Interior\"}),/*#__PURE__*/_jsx(\"select\",{name:\"subindex\",value:formData.subindex,onChange:handleChange,required:true,defaultValue:'disable-value',className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:'disable-value',children:\" -- Selecciona una opcion -- \"}),propertyList.filter(function(expense){return expense.property===formData.property;}).map(function(filteredBuilding){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"option\",{children:[\" \",filteredBuilding.subindex,\" \"]},formData.id),/*#__PURE__*/_jsxs(\"option\",{children:[\" \",filteredBuilding.subindex1,\" \"]},formData.id),/*#__PURE__*/_jsxs(\"option\",{children:[\" \",filteredBuilding.subindex2,\" \"]},formData.id),/*#__PURE__*/_jsxs(\"option\",{children:[\" \",filteredBuilding.subindex3,\" \"]},formData.id),/*#__PURE__*/_jsxs(\"option\",{children:[\" \",filteredBuilding.subindex4,\" \"]},formData.id)]});})]})})]}):\"\",/*#__PURE__*/_jsx(\"label\",{htmlFor:\"type\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Tipo de Movimiento\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",value:formData.type,onChange:handleChange,required:true,defaultValue:'disable-value',className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",children:[/*#__PURE__*/_jsx(\"option\",{value:'disable-value',disabled:true,children:\" -- Selecciona una opcion -- \"}),/*#__PURE__*/_jsx(\"option\",{value:\"expense\",children:\"Gasto / Egreso\"}),/*#__PURE__*/_jsx(\"option\",{value:\"income\",children:\"Ingreso\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Monto\"}),/*#__PURE__*/_jsx(\"input\",{id:\"amount\",name:\"amount\",type:\"number\",onChange:handleChange,required:true,value:formData.amount,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"concept\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Concepto\"}),/*#__PURE__*/_jsx(\"input\",{id:\"concept\",name:\"concept\",type:\"text\",onChange:handleChange,required:true,value:formData.concept,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"input\",{id:\"date\",name:\"date\",type:\"date\",onChange:handleChange,required:true,value:formData.date,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"}),/*#__PURE__*/_jsx(\"input\",{value:\"Enviar\",type:\"submit\",className:\"bg-yellow-400 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer mt-9\"})]})})})]});};export default TicketPage;","map":{"version":3,"sources":["C:/Users/alexa/Desktop/rodan-app/src/Pages/TicketPage/index.jsx"],"names":["useState","useEffect","onSnapshot","addData","getCollectionRef","getDataById","updateData","useNavigate","useParams","TicketPage","editMode","navigate","propertyList","setPropertyList","timestamp","Date","toISOString","formData","setFormData","id","handleSubmit","e","preventDefault","property","subindex","subindex1","subindex2","subindex3","subindex4","amount","type","concept","date","fetchData","response","unSubscribe","data","docs","map","doc","handleChange","value","target","name","prevState","uniqueBuilding","buildingIndex","filter","expense","filteredBuilding"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\"\nimport { onSnapshot } from \"firebase/firestore\"\nimport { addData, getCollectionRef, getDataById, updateData } from \"../../Services/CRUD\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useParams } from \"react-router-dom\"\n\nconst TicketPage = ({editMode}) => {\n    const navigate = useNavigate()\n    const [propertyList, setPropertyList] = useState([])\n    const [formData, setFormData] = useState({\n        timestamp: new Date().toISOString()\n    })\n    let {id} = useParams()\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        if(!editMode){\n            await addData(\"tickets\", {\n                property: formData.property,\n                subindex: formData.subindex,\n                subindex1: formData.subindex1,\n                subindex2: formData.subindex2,\n                subindex3: formData.subindex3,\n                subindex4: formData.subindex4,\n                amount: formData.amount,\n                type: formData.type,\n                concept: formData.concept,\n                timestamp: formData.timestamp,\n                date: formData.date,\n            })\n            navigate('/')\n        }\n        if (editMode){\n            await updateData(\"tickets\", id, {\n                property: formData.property,\n                subindex: formData.subindex,\n                subindex1: formData.subindex1,\n                subindex2: formData.subindex2,\n                subindex3: formData.subindex3,\n                subindex4: formData.subindex4,\n                amount: formData.amount,\n                type: formData.type,\n                concept: formData.concept,\n                timestamp: formData.timestamp,\n                date: formData.date,\n            })\n            navigate('/')\n        }\n    }\n\n    const fetchData = async () => {\n       const response =  await getDataById(\"tickets\", id)\n        setFormData({\n            property: response.property,\n            subindex: response.subindex,\n            subindex1: response.subindex1,\n            subindex2: response.subindex2,\n            subindex3: response.subindex3,\n            subindex4: response.subindex4,\n            amount: response.amount,\n            type: response.type,\n            concept: response.concept,\n            timestamp: response.timestamp,\n            date: response.date,\n            })\n    }\n\n    useEffect(() => {\n        if(editMode) fetchData()\n    }, [])\n\n    useEffect(() => {\n        const unSubscribe = onSnapshot(getCollectionRef(\"properties\"), (data) => {\n          setPropertyList(\n            data.docs.map((doc) => {\n              return {...doc.data(), id: doc.id}\n            })\n          )\n        })\n        return () => {\n          unSubscribe()\n        }\n       }, [])\n\n    const handleChange = (e) => {\n        const value = e.target.value\n        const name = e.target.name\n\n        setFormData((prevState) => ({\n            ...prevState,\n            [name]: value\n        })\n        )\n    }\n    \n    return (\n        <div className=\"flex flex-col\">\n            <h1 className=\"text-black text-center\">{editMode ? 'Actualiza tu movimiento' : 'Crear un movimiento'}</h1>\n            <div className=\"flex flex-col\">\n                <form onSubmit={handleSubmit} className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 m-4 w-3/4\">\n                    <section className=\"flex flex-col flex-wrap w-3/4 m-10\">\n                            <label htmlFor=\"property\" className=\"block text-gray-700 text-sm font-bold mb-2\">Nombre de la Propiedad</label>\n                            <select \n                                name=\"property\"\n                                value={formData.property}\n                                onChange={handleChange}\n                                required={true}\n                                defaultValue={'disable-value'}\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                >\n                                    <>\n                                    <option disabled value={'disable-value'}> -- Selecciona una opcion -- </option>\n                                    {propertyList?.map((uniqueBuilding, buildingIndex) => (\n                                    <option key={buildingIndex}>{uniqueBuilding.property}</option>\n                                        ))}\n                                    </>\n                                    \n                            </select>\n\n\n                            {formData.property?\n                            <>\n                            \n                            <label htmlFor=\"subindex\" className=\"block text-gray-700 text-sm font-bold mb-2\">Numero Interior</label>\n                            <select \n                                name=\"subindex\"\n                                value={formData.subindex}\n                                onChange={handleChange}\n                                required={true}\n                                defaultValue={'disable-value'}\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                >\n                               <>\n                               <option value={'disable-value'} > -- Selecciona una opcion -- </option>\n                                {propertyList.filter(expense => expense.property === formData.property)\n                                .map((filteredBuilding) => (\n                                    <>\n                                        <option key={formData.id} > {filteredBuilding.subindex} </option>\n                                        <option key={formData.id} > {filteredBuilding.subindex1} </option>\n                                        <option key={formData.id} > {filteredBuilding.subindex2} </option>\n                                        <option key={formData.id} > {filteredBuilding.subindex3} </option>\n                                        <option key={formData.id} > {filteredBuilding.subindex4} </option>\n                                    </>\n                                    ))\n                                }\n                               </>\n                                    \n                            </select>\n                            </>\n                               :\"\"}\n                            \n                            <label htmlFor=\"type\"className=\"block text-gray-700 text-sm font-bold mb-2\">Tipo de Movimiento</label>\n                            <select \n                                name=\"type\"\n                                value={formData.type}\n                                onChange={handleChange}\n                                required={true}\n                                defaultValue={'disable-value'}\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                >\n                                <option value={'disable-value'} disabled> -- Selecciona una opcion -- </option>\n                                <option value=\"expense\">Gasto / Egreso</option>\n                                <option value=\"income\" >Ingreso</option>\n                            </select>\n                            <label htmlFor=\"amount\" className=\"block text-gray-700 text-sm font-bold mb-2\">Monto</label>\n                            <input \n                            id=\"amount\"\n                            name=\"amount\"\n                            type=\"number\"\n                            onChange={handleChange}\n                            required={true}\n                            value={formData.amount}\n                            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                            />\n                            <label htmlFor=\"concept\" className=\"block text-gray-700 text-sm font-bold mb-2\">Concepto</label>\n                            <input \n                            id=\"concept\"\n                            name=\"concept\"\n                            type=\"text\"\n                            onChange={handleChange}\n                            required={true}\n                            value={formData.concept}\n                            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                            />\n                            <label htmlFor=\"date\" className=\"block text-gray-700 text-sm font-bold mb-2\">Fecha</label>\n                            <input \n                            id=\"date\"\n                            name=\"date\"\n                            type=\"date\"\n                            onChange={handleChange}\n                            required={true}\n                            value={formData.date}\n                            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                            />\n                        <input value=\"Enviar\" type=\"submit\" className=\"bg-yellow-400 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer mt-9\" />\n                    </section>\n                </form>\n            </div>\n        </div>\n    )\n    \n}\nexport default TicketPage"]},"metadata":{},"sourceType":"module"}