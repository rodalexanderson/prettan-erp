{"ast":null,"code":"import swal from \"sweetalert\";\nimport { arrayRemove } from \"firebase/firestore\";\nimport { updateData } from \"../Services/CRUD\";\nimport { deleteData } from \"../Services/CRUD\";\nexport const handleLike = async (_ref, uid) => {\n  let {\n    tweet\n  } = _ref;\n  const {\n    userLikes,\n    likes,\n    id\n  } = tweet;\n  const updateUserLikes = [...userLikes, uid];\n  const updateLikes = likes;\n\n  if (userLikes.includes(uid)) {\n    await updateData(\"tweets\", id, {\n      userLikes: arrayRemove(uid),\n      likes: updateLikes - 1\n    });\n  } else {\n    await updateData(\"tweets\", id, {\n      userLikes: updateUserLikes,\n      likes: updateLikes + 1\n    });\n  }\n};\nexport const handleDelete = id => {\n  swal({\n    title: \"Want to delete this tweet?\",\n    text: \"We won't be able to recover your tweet\",\n    icon: \"warning\",\n    buttons: true,\n    dangerMode: true\n  }).then(willDelete => {\n    if (willDelete) {\n      swal(\"Done! Tweet has been deleted\");\n      deleteData(\"tweets\", id);\n    }\n  });\n};","map":{"version":3,"sources":["/Users/efecto10/Desktop/FIrebase Config To HomePage/src/Functions/index.jsx"],"names":["swal","arrayRemove","updateData","deleteData","handleLike","uid","tweet","userLikes","likes","id","updateUserLikes","updateLikes","includes","handleDelete","title","text","icon","buttons","dangerMode","then","willDelete"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,YAAjB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAGA,OAAO,MAAMC,UAAU,GAAG,aAAgBC,GAAhB,KAAwB;AAAA,MAAjB;AAACC,IAAAA;AAAD,GAAiB;AAC9C,QAAM;AAACC,IAAAA,SAAD;AAAYC,IAAAA,KAAZ;AAAmBC,IAAAA;AAAnB,MAAyBH,KAA/B;AACA,QAAMI,eAAe,GAAG,CAAC,GAAGH,SAAJ,EAAeF,GAAf,CAAxB;AACA,QAAMM,WAAW,GAAGH,KAApB;;AAEA,MAAID,SAAS,CAACK,QAAV,CAAmBP,GAAnB,CAAJ,EAA6B;AACzB,UAAMH,UAAU,CAAC,QAAD,EAAWO,EAAX,EAAe;AAC3BF,MAAAA,SAAS,EAAEN,WAAW,CAACI,GAAD,CADK;AAE3BG,MAAAA,KAAK,EAAEG,WAAW,GAAE;AAFO,KAAf,CAAhB;AAIH,GALD,MAKO;AACH,UAAMT,UAAU,CAAC,QAAD,EAAWO,EAAX,EAAe;AAC3BF,MAAAA,SAAS,EAAEG,eADgB;AAE3BF,MAAAA,KAAK,EAAEG,WAAW,GAAE;AAFO,KAAf,CAAhB;AAIH;AACJ,CAhBM;AAkBP,OAAO,MAAME,YAAY,GAAIJ,EAAD,IAAQ;AAChCT,EAAAA,IAAI,CAAC;AACDc,IAAAA,KAAK,EAAE,4BADN;AAEDC,IAAAA,IAAI,EAAE,wCAFL;AAGDC,IAAAA,IAAI,EAAE,SAHL;AAIDC,IAAAA,OAAO,EAAE,IAJR;AAKDC,IAAAA,UAAU,EAAE;AALX,GAAD,CAAJ,CAMGC,IANH,CAMSC,UAAD,IAAgB;AACpB,QAAIA,UAAJ,EAAgB;AACZpB,MAAAA,IAAI,CAAC,8BAAD,CAAJ;AACAG,MAAAA,UAAU,CAAC,QAAD,EAAWM,EAAX,CAAV;AACH;AACJ,GAXD;AAYD,CAbI","sourcesContent":["import swal from \"sweetalert\";\nimport { arrayRemove } from \"firebase/firestore\";\nimport { updateData } from \"../Services/CRUD\";\nimport { deleteData } from \"../Services/CRUD\";\n\n\nexport const handleLike = async ({tweet}, uid) => {\n    const {userLikes, likes, id} = tweet;\n    const updateUserLikes = [...userLikes, uid];\n    const updateLikes = likes;\n\n    if (userLikes.includes(uid)) {\n        await updateData(\"tweets\", id, {\n            userLikes: arrayRemove(uid),\n            likes: updateLikes -1,\n        });\n    } else {\n        await updateData(\"tweets\", id, {\n            userLikes: updateUserLikes,\n            likes: updateLikes +1,\n        });\n    }\n};\n\nexport const handleDelete = (id) => {\n    swal({\n        title: \"Want to delete this tweet?\",\n        text: \"We won't be able to recover your tweet\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true, \n    }).then((willDelete) => {\n        if (willDelete) {\n            swal(\"Done! Tweet has been deleted\");\n            deleteData(\"tweets\", id);\n        }\n    });\n  };"]},"metadata":{},"sourceType":"module"}